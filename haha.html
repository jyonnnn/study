<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards of Hjyeon</title>
  <style>
    :root{
      --bg:#ffffff;
      --card:#f2d7d3; /* khung chÃ­nh mÃ u há»“ng nháº¡t */
      --ink:#d84a3a;  /* chá»¯ há»“ng Ä‘á» */
      --muted:#a8736e;
      --accent:#d84a3a;
      --accent-weak:#fcebea;
      --border:#f8bfb9;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:url('anhtrang1.png') no-repeat center center fixed;
      background-size:cover;
      color:var(--ink);
    }
    /* phá»§ má» 70% áº£nh ná»n Ä‘á»ƒ ná»•i khung chÃ­nh */
    body::before{
      content:""; position:fixed; inset:0; background:rgba(255,255,255,0.7); z-index:-1;
    }

    header{position:sticky;top:0;background:rgba(255,255,255,0.6);backdrop-filter:saturate(180%) blur(6px);border-bottom:1px solid var(--border);z-index:10}
    .wrap{max-width:880px;margin:0 auto;padding:16px}
    h1{font-size:22px;margin:0 0 6px 0;color:var(--ink);}
    .sub{font-size:12px;color:var(--muted);}
    .panel{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;margin-top:10px}
    .controls{display:flex;gap:6px;flex-wrap:wrap;align-items:center}
    input[type="text"]{padding:10px 12px;border:1px solid var(--border);border-radius:10px;outline:none;width:100%;background:#fff}
    input[type="text"]:focus{border-color:var(--accent)}
    button{border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px 14px;cursor:pointer;color:var(--ink)}
    button.primary{background:var(--accent);border-color:transparent;color:#fff}
    button.ghost{background:var(--accent-weak);border-color:transparent;color:var(--ink)}
    button:disabled{opacity:.5;cursor:not-allowed}
    .pill{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:#fff;color:var(--muted)}

    main{display:grid;justify-items:center;padding:20px}

    /* Card */
    .stage{width:min(600px,94vw);height:min(60vh,520px);min-height:360px;display:grid;place-items:center;margin:18px 0}
    .card{width:100%;height:100%;border-radius:20px;background:var(--card);box-shadow:0 14px 36px rgba(216,74,58,.18);cursor:pointer;perspective:1200px;position:relative;border:1px solid var(--border)}
    .card-inner{position:absolute;inset:0;border-radius:20px;transform-style:preserve-3d;transition:transform .6s}
    .card.flipped .card-inner{transform:rotateY(180deg)}
    .face{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:14px;padding:28px;border-radius:20px;backface-visibility:hidden}
    .front{background:linear-gradient(180deg,#f2d7d3, #f9e5e2)}
    .front h2{font-size:40px;line-height:1.1;margin:0;text-align:center;color:var(--ink)}
    .badge{font-size:12px;color:var(--ink);background:var(--accent-weak);padding:6px 10px;border-radius:999px;border:1px dashed var(--border)}
    .back{transform:rotateY(180deg);background:var(--card)}
    .meaning{font-size:20px;line-height:1.45;text-align:center;color:var(--ink)}
    .muted{color:var(--muted)}

    /* Footer controls */
    .nav{display:flex;gap:10px;align-items:center;justify-content:center}
    .counter{font-size:14px;color:var(--muted)}

    /* Add/Edit form */
    details.box{width:min(600px,94vw);background:#fff;border:1px solid var(--border);border-radius:16px;padding:12px 12px 16px;box-shadow:0 10px 24px rgba(2,6,23,.05)}
    details.box>summary{cursor:pointer;list-style:none;padding:6px 2px;font-weight:600;color:var(--ink)}
    details.box[open]>summary{margin-bottom:8px}
    .grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}
    .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    label{font-size:12px;color:var(--muted)}
    .hint{font-size:12px;color:var(--muted)}
    .tiny{font-size:12px}
    .switch{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#fff;color:var(--ink)}
    .foot{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:8px}

    @media (max-width:760px){
      .grid{grid-template-columns:1fr}
      .panel{grid-template-columns:1fr;gap:6px}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Flashcards of Hjyeon</h1>
      <div class="sub">Nháº¥p vÃ o tháº» Ä‘á»ƒ láº­t â€¢ Space: láº­t | â†/â†’: chuyá»ƒn tháº» | Enter: tÃ¬m kiáº¿m</div>
      <div class="panel">
        <input id="search" type="text" placeholder="TÃ¬m tá»« (EN/KO/VI)â€¦" />
        <div class="controls">
          <label class="switch"><input id="toggle-ko" type="checkbox" checked> <span>Hiá»‡n tiáº¿ng HÃ n</span></label>
          <label class="switch"><input id="toggle-vi" type="checkbox" checked> <span>Hiá»‡n tiáº¿ng Viá»‡t</span></label>
          <button id="shuffle" class="ghost" title="XÃ¡o trá»™n">ğŸ”€ XÃ¡o</button>
        </div>
        <div class="controls">
          <button id="btn-export" title="Xuáº¥t JSON">â¬‡ï¸ Xuáº¥t</button>
          <label class="switch" title="Nháº­p JSON"><input id="file" type="file" accept="application/json"> <span>â¬†ï¸ Nháº­p</span></label>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="stage">
      <div id="card" class="card" aria-live="polite" role="button" tabindex="0">
        <div class="card-inner">
          <div class="face front">
            <span class="badge">EN</span>
            <h2 id="front-word">loadingâ€¦</h2>
            <div class="hint">Nháº¥p Ä‘á»ƒ xem nghÄ©a</div>
          </div>
          <div class="face back">
            <div class="badge">KO â€¢ VI</div>
            <div class="meaning" id="back-meaning"></div>
            <div class="hint muted">Nháº¥p Ä‘á»ƒ quay láº¡i</div>
          </div>
        </div>
      </div>
    </div>

    <div class="nav">
      <button id="prev">â—€ï¸ TrÆ°á»›c</button>
      <button id="flip" class="primary">Láº­t tháº»</button>
      <button id="next">Sau â–¶ï¸</button>
      <span class="counter" id="counter">0 / 0</span>
      <button id="edit" title="Sá»­a tháº» hiá»‡n táº¡i">âœï¸ Sá»­a</button>
      <button id="del" title="XoÃ¡ tháº» hiá»‡n táº¡i" style="color:#b91c1c;border-color:#fecaca;background:#fff0f0">ğŸ—‘ï¸ XoÃ¡</button>
    </div>

    <details class="box">
      <summary>ï¼‹ ThÃªm tá»« má»›i</summary>
      <div class="grid">
        <div>
          <label>English</label>
          <input id="in-en" type="text" placeholder="vd. innovative" />
        </div>
        <div>
          <label>í•œêµ­ì–´ ëœ»</label>
          <input id="in-ko" type="text" placeholder="vd. í˜ì‹ ì ì¸" />
        </div>
        <div>
          <label>Tiáº¿ng Viá»‡t</label>
          <input id="in-vi" type="text" placeholder="vd. Ä‘á»•i má»›i, sÃ¡ng táº¡o" />
        </div>
      </div>
      <div class="foot">
        <span class="tiny muted">Máº¹o: thÃªm nhanh rá»“i Enter Ä‘á»ƒ lÆ°u.</span>
        <div class="row">
          <button id="add" class="primary">LÆ°u tá»«</button>
          <button id="clear-all" title="XoÃ¡ toÃ n bá»™ bá»™ tháº»" style="border-color:#fecaca">ğŸ§¹ XoÃ¡ táº¥t cáº£</button>
        </div>
      </div>
    </details>

    <p class="tiny muted" style="margin-top:14px">Dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u tá»± Ä‘á»™ng trong trÃ¬nh duyá»‡t (localStorage). Báº¡n cÃ³ thá»ƒ Xuáº¥t/Nháº­p JSON Ä‘á»ƒ sao lÆ°u.</p>
  </main>

  <script>
  (function(){
    const LS_KEY = 'flatcards_v1';
    const $ = (sel)=>document.querySelector(sel);

    const sample = [
      {en:'Abbreviation', ko:'ì•½ì, ì¤„ì„ë§', vi:'Tá»« viáº¿t táº¯t thÆ°á»ng dÃ¹ng trong thÆ°Æ¡ng máº¡i nhÆ° FOB, CIF, L/C.'},
      {en:'Abandon', ko:'ë²„ë¦¬ë‹¤, ìœ„ë¶€í•˜ë‹¤', vi:'Tá»« bá» quyá»n lá»£i hoáº·c nghÄ©a vá»¥ theo há»£p Ä‘á»“ng.'},
{en:'Acceptance', ko:'ìŠ¹ë‚™, (ì–´ìŒì˜) ì¸ìˆ˜, (ì„œë¥˜ ë“±ì˜) ìˆ˜ë½', vi:'Sá»± Ä‘á»“ng Ã½ vá»›i Ä‘á» nghá»‹ hoáº·c sá»± cháº¥p nháº­n há»‘i phiáº¿u.'},
{en:'Account', ko:'ê³„ì •, ê±°ë˜, ~ì„ ì„¤ëª…í•˜ë‹¤', vi:'TÃ i khoáº£n tÃ i chÃ­nh hoáº·c sá»± giáº£i thÃ­ch cho má»™t váº¥n Ä‘á».'},
{en:'Account receivables', ko:'ì™¸ìƒë§¤ì¶œì±„ê¶Œ, ë¯¸ìˆ˜ê¸ˆ', vi:'Khoáº£n pháº£i thu tá»« khÃ¡ch hÃ ng.'},
{en:'Accommodate', ko:'ì œê³µí•˜ë‹¤', vi:'Cung cáº¥p, Ä‘Ã¡p á»©ng má»™t yÃªu cáº§u hoáº·c nhu cáº§u.'},
{en:'Address', ko:'ì£¼ì†Œ, ë³´ë‚´ë‹¤, ë‹¤ë£¨ë‹¤, ì²˜ë¦¬í•˜ë‹¤', vi:'Xá»­ lÃ½, giáº£i quyáº¿t hoáº·c gá»­i Ä‘áº¿n Ä‘á»‹a chá»‰.'},
{en:'Advance payment', ko:'ì„ ì§€ê¸‰ë°©ì‹', vi:'PhÆ°Æ¡ng thá»©c thanh toÃ¡n trÆ°á»›c khi giao hÃ ng.'},
{en:'Advise', ko:'í†µì§€, ê¶Œê³ í•˜ë‹¤, ì•Œë¦¬ë‹¤', vi:'ThÃ´ng bÃ¡o, khuyáº¿n nghá»‹ hoáº·c tÆ° váº¥n.'},
{en:'Advising Bank', ko:'í†µì§€ì€í–‰', vi:'NgÃ¢n hÃ ng thÃ´ng bÃ¡o L/C cho ngÆ°á»i thá»¥ hÆ°á»Ÿng.'},
{en:'After Sight', ko:'ì¼ëŒ í›„', vi:'Thanh toÃ¡n sau khi xuáº¥t trÃ¬nh há»‘i phiáº¿u.'},
{en:'Agent', ko:'ëŒ€ë¦¬ì¸, ëŒ€ë¦¬ì ', vi:'NgÆ°á»i hoáº·c cÃ´ng ty Ä‘áº¡i diá»‡n thay máº·t bÃªn khÃ¡c.'},
{en:'Agreement', ko:'í•©ì˜, ê³„ì•½', vi:'Thá»a thuáº­n giá»¯a cÃ¡c bÃªn liÃªn quan.'},
{en:'Air Waybill (AWB)', ko:'í•­ê³µí™”ë¬¼ìš´ì†¡ì¥', vi:'Váº­n Ä‘Æ¡n dÃ¹ng trong váº­n chuyá»ƒn hÃ ng khÃ´ng.'},
{en:'All risks', ko:'ì „ìœ„í—˜ë‹´ë³´(ì•½ê´€)', vi:'Báº£o hiá»ƒm má»i rá»§i ro cÃ³ thá»ƒ xáº£y ra.'},
{en:'Amendment', ko:'ê°œì •, (ì‹ ìš©ì¥ì˜) ì¡°ê±´ë³€ê²½', vi:'Sá»± sá»­a Ä‘á»•i, bá»• sung Ä‘iá»u kiá»‡n cá»§a há»£p Ä‘á»“ng hoáº·c L/C.'},
{en:'Amicably', ko:'ìš°í˜¸ì ìœ¼ë¡œ, ì›ë§Œí•˜ê²Œ', vi:'Theo cÃ¡ch thÃ¢n thiá»‡n, hÃ²a giáº£i.'},
{en:'Applicable', ko:'í•´ë‹¹ë˜ëŠ”, ì ìš©ë˜ëŠ”', vi:'CÃ³ thá»ƒ Ã¡p dá»¥ng.'},
{en:'Applicable Law', ko:'ì¤€ê±°ë²•', vi:'Luáº­t Ã¡p dá»¥ng Ä‘iá»u chá»‰nh há»£p Ä‘á»“ng.'},
{en:'Applicant', ko:'(ì‹ ìš©ì¥ì˜) ê°œì„¤ì˜ë¢°ì¸', vi:'NgÆ°á»i yÃªu cáº§u má»Ÿ L/C.'},
{en:'Appreciate', ko:'ê³ ë§ˆì›Œí•˜ë‹¤, ì¸ì‹í•˜ë‹¤', vi:'Cáº£m kÃ­ch, Ä‘Ã¡nh giÃ¡ cao.'},
{en:'Arbitration', ko:'ì¤‘ì¬', vi:'Giáº£i quyáº¿t tranh cháº¥p thÃ´ng qua trá»ng tÃ i.'},
{en:'Arbitrator', ko:'ì¤‘ì¬ì¸', vi:'NgÆ°á»i Ä‘á»©ng ra phÃ¢n xá»­ tranh cháº¥p.'},
{en:'Article', ko:'ì¡°í•­, ë¬¼í’ˆ, ìƒí’ˆ', vi:'Äiá»u khoáº£n hoáº·c máº·t hÃ ng.'},
{en:'Arrangement', ko:'ì¤€ë¹„, ì•½ì •, ê³„ì•½', vi:'Sá»± sáº¯p xáº¿p hoáº·c thá»a thuáº­n.'},
{en:'Assent', ko:'ìŠ¹ì¸, ì°¬ì„±', vi:'Sá»± Ä‘á»“ng Ã½.'},
{en:'Assign', ko:'ë§¡ê¸°ë‹¤, ì–‘ë„í•˜ë‹¤', vi:'Chuyá»ƒn giao quyá»n hoáº·c nghÄ©a vá»¥.'},
{en:'Assignment', ko:'ë°°ì •, ë°°ì¹˜, ì–‘ë„, ìœ„íƒ(íŒë§¤ê³„ì•½)', vi:'Sá»± chuyá»ƒn nhÆ°á»£ng hoáº·c phÃ¢n cÃ´ng.'},
{en:'At sight', ko:'ì¼ëŒì¶œê¸ˆ', vi:'Thanh toÃ¡n ngay khi xuáº¥t trÃ¬nh chá»©ng tá»«.'},
{en:'Attributable', ko:'~ì— ê¸°ì¸í•˜ëŠ”, ~ì˜ íƒ“ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ”', vi:'Do nguyÃªn nhÃ¢n tá»«.'},
{en:'Auction', ko:'ê²½ë§¤', vi:'BÃ¡n hÃ ng báº±ng hÃ¬nh thá»©c Ä‘áº¥u giÃ¡.'},
{en:'Authority', ko:'ê¶Œí•œ, ë‹¹êµ­, ê¸°ê´€', vi:'CÆ¡ quan cÃ³ tháº©m quyá»n.'},
{en:'Authorization', ko:'í—ˆê°€, ìŠ¹ì¸', vi:'Sá»± cho phÃ©p.'},
{en:'Average', ko:'ì†í•´ (ë¶„ì†)', vi:'Tá»•n tháº¥t hÃ ng hÃ³a nhá» trong váº­n táº£i.'},
{en:'Avoid', ko:'(ê³„ì•½ì„) í•´ì œí•˜ë‹¤, í”¼í•˜ë‹¤', vi:'Há»§y bá» hoáº·c trÃ¡nh nghÄ©a vá»¥ há»£p Ä‘á»“ng.'},
{en:'Award rendered by arbitrators', ko:'ì¤‘ì¬ì¸ì´ ë‚´ë¦° ì¤‘ì¬íŒì •', vi:'PhÃ¡n quyáº¿t cuá»‘i cÃ¹ng cá»§a trá»ng tÃ i.'},
{en:'Allowance', ko:'í• ì¸, í™˜ê¸‰(ì•¡)', vi:'Khoáº£n giáº£m trá»« hoáº·c hoÃ n láº¡i.'},
{en:'Barter Trade', ko:'ë¬¼ë¬¼êµí™˜', vi:'HÃ¬nh thá»©c trao Ä‘á»•i hÃ ng hÃ³a khÃ´ng dÃ¹ng tiá»n.'},
{en:'Alongside', ko:'~ ì˜†ì—', vi:'Cáº¡nh bÃªn tÃ u hoáº·c kho.'},
{en:'Bankrupt', ko:'íŒŒì‚°í•œ', vi:'TÃ¬nh tráº¡ng máº¥t kháº£ nÄƒng thanh toÃ¡n.'},
{en:'Alternative', ko:'ëŒ€ì•ˆ, ëŒ€ì²´í•˜ëŠ”', vi:'Lá»±a chá»n thay tháº¿.'},
{en:'Bear', ko:'ë¶€ë‹´í•˜ë‹¤, ë‹´ë‹¤, ê°€ì§€ë‹¤', vi:'Mang hoáº·c chá»‹u trÃ¡ch nhiá»‡m.'},
{en:'Beneficiary', ko:'ìˆ˜ìµì', vi:'NgÆ°á»i thá»¥ hÆ°á»Ÿng lá»£i Ã­ch trong há»£p Ä‘á»“ng hoáº·c L/C.'},
{en:'Berth term', ko:'í•˜ì—­ë¹„ í¬í•¨ ìš´ì„ì¡°ê±´', vi:'Äiá»u kiá»‡n bao gá»“m chi phÃ­ xáº¿p dá»¡ táº¡i cáº£ng.'},
{en:'Bid', ko:'ì…ì°°', vi:'ÄÆ°a giÃ¡ trong Ä‘áº¥u tháº§u.'},
{en:'Breach', ko:'ê³„ì•½ì˜ ìœ„ë°˜', vi:'Sá»± vi pháº¡m Ä‘iá»u khoáº£n há»£p Ä‘á»“ng.'},
{en:'Bulk Cargo', ko:'ë²Œí¬í™”ë¬¼, ì‚°ì í™”ë¬¼', vi:'HÃ ng hÃ³a khÃ´ng Ä‘Ã³ng gÃ³i, váº­n chuyá»ƒn rá»i.'},
{en:'Cargo Insurance', ko:'ì í•˜ë³´í—˜', vi:'Báº£o hiá»ƒm hÃ ng hÃ³a váº­n chuyá»ƒn.'},
{en:'Carriage', ko:'ìš´ì†¡, ìš´ì„', vi:'Viá»‡c chuyÃªn chá»Ÿ hoáº·c cÆ°á»›c phÃ­.'},
{en:'Carrier', ko:'ìš´ì†¡ì¸', vi:'NgÆ°á»i hoáº·c cÃ´ng ty váº­n chuyá»ƒn hÃ ng.'},
{en:'Carry out', ko:'ì‹¤í–‰í•˜ë‹¤', vi:'Thá»±c hiá»‡n.'},
{en:'Certain', ko:'í™•ì‹¤í•œ', vi:'Cháº¯c cháº¯n.'},
{en:'Certificate of Analysis', ko:'ì„±ë¶„ë¶„ì„ì„œ', vi:'Chá»©ng nháº­n phÃ¢n tÃ­ch thÃ nh pháº§n.'},
{en:'Certificate of Origin', ko:'ì›ì‚°ì§€ì¦ëª…ì„œ', vi:'Giáº¥y chá»©ng nháº­n xuáº¥t xá»©.'},
{en:'Charge', ko:'ìš”ê¸ˆ, ì²­êµ¬í•˜ë‹¤', vi:'PhÃ­ hoáº·c yÃªu cáº§u thanh toÃ¡n.'},
{en:'Charter party', ko:'ìš©ì„ ê³„ì•½', vi:'Há»£p Ä‘á»“ng thuÃª tÃ u.'},
{en:'Charterer', ko:'ìš©ì„ ì', vi:'NgÆ°á»i thuÃª tÃ u.'},
{en:'Circumstance', ko:'ìƒí™©', vi:'HoÃ n cáº£nh.'},
{en:'Claim', ko:'ì²­êµ¬, ìš”êµ¬', vi:'YÃªu cáº§u bá»“i thÆ°á»ng hoáº·c quyá»n lá»£i.'},
{en:'Classification', ko:'ë¶„ë¥˜', vi:'Sá»± phÃ¢n loáº¡i.'},
{en:'Clause', ko:'ì¡°í•­', vi:'Äiá»u khoáº£n trong há»£p Ä‘á»“ng.'},
{en:'Clean B/L', ko:'ì²­ê²° ì„ í•˜ì¦ê¶Œ', vi:'Váº­n Ä‘Æ¡n sáº¡ch, khÃ´ng ghi chÃº hÆ° há»ng.'},
{en:'Clean Credit', ko:'ì²­ê²° ì‹ ìš©ì¥', vi:'L/C khÃ´ng cÃ³ Ä‘iá»u kiá»‡n Ä‘áº·c biá»‡t.'},
{en:'Collateral', ko:'ë‹´ë³´', vi:'TÃ i sáº£n Ä‘áº£m báº£o.'},
{en:'Collecting bank', ko:'ì¶”ì‹¬ì€í–‰', vi:'NgÃ¢n hÃ ng thu há»™.'},
{en:'Commercial', ko:'ìƒì—…ì˜', vi:'LiÃªn quan Ä‘áº¿n thÆ°Æ¡ng máº¡i.'},
{en:'Commodity', ko:'ìƒí’ˆ', vi:'HÃ ng hÃ³a.'},
{en:'Competitive', ko:'ê²½ìŸë ¥ ìˆëŠ”', vi:'CÃ³ kháº£ nÄƒng cáº¡nh tranh.'},
{en:'Completion', ko:'ì™„ë£Œ', vi:'Sá»± hoÃ n thÃ nh.'},
{en:'Comply', ko:'ì¤€ìˆ˜í•˜ë‹¤', vi:'TuÃ¢n thá»§.'},
{en:'Conclude', ko:'ì²´ê²°í•˜ë‹¤', vi:'KÃ½ káº¿t.'},
{en:'Concurrent', ko:'ë™ì‹œì˜', vi:'Xáº£y ra cÃ¹ng lÃºc.'},
{en:'Condition', ko:'ì¡°ê±´', vi:'Äiá»u kiá»‡n.'},
{en:'Conditional Offer', ko:'ì¡°ê±´ë¶€ ì œì•ˆ', vi:'ChÃ o hÃ ng cÃ³ Ä‘iá»u kiá»‡n.'},
{en:'Confidential', ko:'ê¸°ë°€ì˜', vi:'Báº£o máº­t.'},
{en:'Conformity', ko:'ì í•©ì„±', vi:'Sá»± phÃ¹ há»£p.'},
{en:'Connection', ko:'ì—°ê²°', vi:'Má»‘i liÃªn há»‡.'},
{en:'Consent', ko:'ë™ì˜', vi:'Sá»± Ä‘á»“ng Ã½.'},
{en:'Consequently', ko:'ê²°ê³¼ì ìœ¼ë¡œ', vi:'Do Ä‘Ã³.'},
{en:'Consideration', ko:'ê³ ë ¤, ëŒ€ê°€', vi:'Sá»± cÃ¢n nháº¯c hoáº·c khoáº£n bá»“i hoÃ n trong há»£p Ä‘á»“ng.'},
{en:'Consignee', ko:'ìˆ˜í™”ì¸', vi:'NgÆ°á»i nháº­n hÃ ng.'},
{en:'Consignment', ko:'ìœ„íƒí™”ë¬¼', vi:'LÃ´ hÃ ng gá»­i.'},
{en:'Consignor', ko:'ì†¡í™”ì¸', vi:'NgÆ°á»i gá»­i hÃ ng.'},
{en:'Consolidation', ko:'í†µí•©', vi:'Gá»™p hÃ ng.'},
{en:'Constitute', ko:'êµ¬ì„±í•˜ë‹¤', vi:'Cáº¥u thÃ nh.'},
{en:'Consultation', ko:'í˜‘ì˜', vi:'Sá»± tÆ° váº¥n, tham váº¥n.'},
{en:'Consumption', ko:'ì†Œë¹„', vi:'Sá»± tiÃªu dÃ¹ng.'},
{en:'Contract of affreightment (COA)', ko:'ìš´ì†¡ê³„ì•½', vi:'Há»£p Ä‘á»“ng váº­n chuyá»ƒn hÃ ng hÃ³a.'},
{en:'Contracting State', ko:'ê³„ì•½ ì²´ê²°êµ­', vi:'Quá»‘c gia kÃ½ káº¿t.'},
{en:'Convenient', ko:'í¸ë¦¬í•œ', vi:'Thuáº­n tiá»‡n.'},
{en:'Convention', ko:'í˜‘ì•½', vi:'CÃ´ng Æ°á»›c.'},
{en:'Convert', ko:'ì „í™˜í•˜ë‹¤', vi:'Chuyá»ƒn Ä‘á»•i.'},
{en:'Conveyance', ko:'ìš´ì†¡ìˆ˜ë‹¨', vi:'PhÆ°Æ¡ng tiá»‡n váº­n chuyá»ƒn.'},
{en:'Correspond', ko:'ì¼ì¹˜í•˜ë‹¤', vi:'TÆ°Æ¡ng á»©ng, phÃ¹ há»£p.'},
{en:'Correspondence', ko:'ì„œì‹ ', vi:'ThÆ° tá»«, giao tiáº¿p vÄƒn báº£n.'},
{en:'Correspondent bank', ko:'ì½”ë ˆìŠ¤ì€í–‰', vi:'NgÃ¢n hÃ ng Ä‘áº¡i lÃ½.'},
{en:'Counterpart', ko:'ìƒëŒ€ë°©', vi:'BÃªn Ä‘á»‘i tÃ¡c.'},
{en:'Covenant', ko:'ê³„ì•½, ì•½ì†', vi:'Äiá»u khoáº£n hoáº·c cam káº¿t trong há»£p Ä‘á»“ng.'},
{en:'Cover', ko:'ë³´ì¥í•˜ë‹¤', vi:'Báº£o hiá»ƒm hoáº·c bao gá»“m.'},
{en:'Creditor', ko:'ì±„ê¶Œì', vi:'Chá»§ ná»£.'},
{en:'Credit-worthiness', ko:'ì‹ ìš©ë„', vi:'Má»©c Ä‘á»™ tÃ­n nhiá»‡m.'},
{en:'Cumulative', ko:'ëˆ„ì ì ì¸', vi:'TÃ­ch lÅ©y.'},
{en:'Currency exchange rate', ko:'í™˜ìœ¨', vi:'Tá»· giÃ¡ há»‘i Ä‘oÃ¡i.'},
{en:'Customs clearance', ko:'í†µê´€', vi:'ThÃ´ng quan.'},
{en:'Debit', ko:'ì°¨ë³€', vi:'Ghi ná»£.'},
{en:'Debtor', ko:'ì±„ë¬´ì', vi:'NgÆ°á»i máº¯c ná»£.'},
{en:'Deduction', ko:'ê³µì œ', vi:'Khoáº£n kháº¥u trá»«.'},
{en:'Deem', ko:'ê°„ì£¼í•˜ë‹¤', vi:'Cho lÃ , xem nhÆ°.'},
{en:'Deferred payment', ko:'ì—°ê¸°ì§€ê¸‰', vi:'Thanh toÃ¡n hoÃ£n láº¡i.'},
{en:'Definite', ko:'í™•ì •ì ì¸', vi:'Cháº¯c cháº¯n, rÃµ rÃ ng.'},
{en:'Deliberate', ko:'ì˜ë„ì ì¸', vi:'Cá»‘ Ã½.'},
{en:'Delivery', ko:'ì¸ë„', vi:'Giao hÃ ng.'},
{en:'Demurrage', ko:'ì²´í™”ë£Œ', vi:'PhÃ­ lÆ°u kho, lÆ°u bÃ£i.'},
{en:'Dependent', ko:'ì˜ì¡´ì ì¸', vi:'Phá»¥ thuá»™c.'},
{en:'Depot', ko:'ì°½ê³ ', vi:'Kho bÃ£i.'},
{en:'Description', ko:'ì„¤ëª…', vi:'MÃ´ táº£.'},
{en:'Despite', ko:'ë¶ˆêµ¬í•˜ê³ ', vi:'Máº·c dÃ¹.'},
{en:'Destination', ko:'ëª©ì ì§€', vi:'Äiá»ƒm Ä‘áº¿n.'},
{en:'Detention charge', ko:'ì²´ì„ ë£Œ', vi:'PhÃ­ lÆ°u container.'},
{en:'Determine', ko:'ê²°ì •í•˜ë‹¤', vi:'XÃ¡c Ä‘á»‹nh.'},
{en:'Disburse', ko:'ì§€ë¶ˆí•˜ë‹¤', vi:'Chi tráº£.'},
{en:'Discharge', ko:'ì–‘í•˜í•˜ë‹¤', vi:'Dá»¡ hÃ ng.'},
{en:'Disclose', ko:'ê³µê°œí•˜ë‹¤', vi:'Tiáº¿t lá»™.'},
{en:'Discrepancy', ko:'ë¶ˆì¼ì¹˜', vi:'Sá»± sai lá»‡ch.'},
{en:'Dispatch', ko:'ë°œì†¡', vi:'Gá»­i Ä‘i.'},
{en:'Dispose', ko:'ì²˜ë¶„í•˜ë‹¤', vi:'Xá»­ lÃ½, vá»©t bá».'},
{en:'Dispute', ko:'ë¶„ìŸ', vi:'Tranh cháº¥p.'},
{en:'Distress', ko:'ì¡°ë‚œ', vi:'TÃ¬nh tráº¡ng nguy cáº¥p.'},
{en:'Distributor', ko:'ìœ í†µì—…ì', vi:'NhÃ  phÃ¢n phá»‘i.'},
{en:'Division', ko:'ë¶€ì„œ', vi:'Bá»™ pháº­n, phÃ²ng ban.'},
{en:'Documentary Credit (DC)', ko:'í™”í™˜ì‹ ìš©ì¥', vi:'TÃ­n dá»¥ng chá»©ng tá»«.'},
{en:'Domestic', ko:'êµ­ë‚´ì˜', vi:'Ná»™i Ä‘á»‹a.'},
{en:'Domicile', ko:'ì£¼ì†Œì§€', vi:'NÆ¡i cÆ° trÃº, Ä‘á»‹a chá»‰ Ä‘Äƒng kÃ½.'},
{en:'Draft', ko:'í™˜ì–´ìŒ', vi:'Há»‘i phiáº¿u.'},
{en:'Draw', ko:'ë°œí–‰í•˜ë‹¤', vi:'PhÃ¡t hÃ nh.'},
{en:'Drawee', ko:'ì§€ê¸‰ì¸', vi:'NgÆ°á»i bá»‹ Ä‘Ã²i tiá»n.'},
{en:'Drawer', ko:'ë°œí–‰ì¸', vi:'NgÆ°á»i phÃ¡t hÃ nh.'},
{en:'Due', ko:'ë§Œê¸°ëœ', vi:'Äáº¿n háº¡n.'},
{en:'Duplicate', ko:'ë³µì‚¬ë³¸', vi:'Báº£n sao.'},
{en:'Duty', ko:'ê´€ì„¸', vi:'Thuáº¿.'},
{en:'Elsewhere', ko:'ë‹¤ë¥¸ ê³³ì—', vi:'NÆ¡i khÃ¡c.'},
{en:'Enclosed', ko:'ë™ë´‰ëœ', vi:'KÃ¨m theo.'},
{en:'Endorsement', ko:'ë°°ì„œ', vi:'KÃ½ háº­u.'},
{en:'Engagement', ko:'ì•½ì†', vi:'Cam káº¿t.'},
{en:'Enforce', ko:'ì‹œí–‰í•˜ë‹¤', vi:'Thi hÃ nh.'},
{en:'Ensure', ko:'ë³´ì¥í•˜ë‹¤', vi:'Äáº£m báº£o.'},
{en:'Entitle', ko:'ìê²©ì„ ì£¼ë‹¤', vi:'Trao quyá»n.'},
{en:'Equilibrium', ko:'ê· í˜•', vi:'CÃ¡n cÃ¢n.'},
{en:'Equipment', ko:'ì¥ë¹„', vi:'Trang thiáº¿t bá»‹.'},
{en:'Escalation clause', ko:'ê°€ê²©ì¡°ì •ì¡°í•­', vi:'Äiá»u khoáº£n Ä‘iá»u chá»‰nh giÃ¡.'},
{en:'Establish', ko:'ì„¤ë¦½í•˜ë‹¤', vi:'ThÃ nh láº­p.'},
{en:'Evidence', ko:'ì¦ê±°', vi:'Báº±ng chá»©ng.'},
{en:'Exception', ko:'ì˜ˆì™¸', vi:'Ngoáº¡i lá»‡.'},
{en:'Exclusive', ko:'ë…ì ì ì¸', vi:'Äá»™c quyá»n.'},
{en:'Execution', ko:'ì§‘í–‰', vi:'Thi hÃ nh.'},
{en:'Expense', ko:'ë¹„ìš©', vi:'Chi phÃ­.'},
{en:'Explosion', ko:'í­ë°œ', vi:'Vá»¥ ná»•.'},
{en:'Explicit', ko:'ëª…ë°±í•œ', vi:'RÃµ rÃ ng.'},
{en:'Expressly', ko:'ëª…ì‹œì ìœ¼ë¡œ', vi:'Má»™t cÃ¡ch rÃµ rÃ ng.'},
{en:'Extent', ko:'ë²”ìœ„', vi:'Má»©c Ä‘á»™.'},
{en:'Fabric', ko:'ì§ë¬¼', vi:'Váº£i.'},
{en:'Face value', ko:'ì•¡ë©´ê°€', vi:'Má»‡nh giÃ¡.'},
{en:'Facility', ko:'ì‹œì„¤', vi:'CÆ¡ sá»Ÿ váº­t cháº¥t.'},
{en:'Favorable', ko:'ìœ ë¦¬í•œ', vi:'Thuáº­n lá»£i.'},
{en:'Fiscal', ko:'ì¬ì •ì˜', vi:'TÃ i chÃ­nh.'},
{en:'Force Majeure', ko:'ë¶ˆê°€í•­ë ¥', vi:'Báº¥t kháº£ khÃ¡ng.'},
{en:'Formality', ko:'í˜•ì‹', vi:'Thá»§ tá»¥c hÃ¬nh thá»©c.'},
{en:'Freight', ko:'í™”ë¬¼, ìš´ì„', vi:'CÆ°á»›c phÃ­.'},
{en:'Fund', ko:'ê¸°ê¸ˆ', vi:'Quá»¹.'},
{en:'Furnish', ko:'ì œê³µí•˜ë‹¤', vi:'Cung cáº¥p.'},
{en:'General', ko:'ì¼ë°˜ì ì¸', vi:'Chung.'},
{en:'Govern', ko:'ì§€ë°°í•˜ë‹¤', vi:'Chi phá»‘i.'},
{en:'Grant', ko:'ë¶€ì—¬í•˜ë‹¤', vi:'Ban hÃ nh.'},
{en:'Guarantee', ko:'ë³´ì¦', vi:'Báº£o lÃ£nh.'},
{en:'Guidance note', ko:'ì„¤ëª…ì„œ', vi:'HÆ°á»›ng dáº«n.'},
{en:'Hand over', ko:'ì¸ë„í•˜ë‹¤', vi:'BÃ n giao.'},
{en:'Harbor', ko:'í•­êµ¬', vi:'Báº¿n cáº£ng.'},
{en:'Hereby', ko:'ì´ì— ì˜í•˜ì—¬', vi:'Báº±ng vÄƒn báº£n nÃ y.'},
{en:'Herein', ko:'ì—¬ê¸°ì—', vi:'Táº¡i Ä‘Ã¢y.'},
{en:'Hereto', ko:'ì´ì—', vi:'Gáº¯n kÃ¨m.'},
{en:'Holder', ko:'ì†Œì§€ì', vi:'NgÆ°á»i giá»¯.'},
{en:'Honour', ko:'ì´í–‰í•˜ë‹¤', vi:'Thá»±c hiá»‡n (tráº£ tiá»n).'},
{en:'Identification', ko:'ì‹ë³„', vi:'Nháº­n dáº¡ng.'},
{en:'Immediately', ko:'ì¦‰ì‹œ', vi:'Ngay láº­p tá»©c.'},
{en:'Implicitly', ko:'ì•”ë¬µì ìœ¼ë¡œ', vi:'Ngáº§m hiá»ƒu.'},
{en:'Import duty', ko:'ìˆ˜ì…ê´€ì„¸', vi:'Thuáº¿ nháº­p kháº©u.'},
{en:'Impose', ko:'ë¶€ê³¼í•˜ë‹¤', vi:'Ãp Ä‘áº·t.'},

   ];

let all = sample.slice();
saveAll();


    let view = all.slice();
    let idx = 0;
    let flipped = false;

    // Elements
    const card = $('#card');
    const frontWord = $('#front-word');
    const backMeaning = $('#back-meaning');
    const counter = $('#counter');
    const search = $('#search');
    const toggleKO = $('#toggle-ko');
    const toggleVI = $('#toggle-vi');

    function saveAll(){ localStorage.setItem(LS_KEY, JSON.stringify(all)); }
    function loadAll(){ return JSON.parse(localStorage.getItem(LS_KEY) || '[]'); }

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; }
      return arr;
    }

    function render(){
      if(view.length===0){
        frontWord.textContent = 'KhÃ´ng cÃ³ tháº»';
        backMeaning.innerHTML = '<span class="muted">HÃ£y thÃªm tá»« má»›i.</span>';
        $('#prev').disabled = $('#next').disabled = $('#flip').disabled = true;
        counter.textContent = '0 / 0';
        card.classList.remove('flipped');
        return;
      }
      $('#prev').disabled = $('#next').disabled = $('#flip').disabled = false;
      idx = (idx + view.length) % view.length;
      const c = view[idx];
      frontWord.textContent = c.en;
      const segs = [];
      if(toggleKO.checked && c.ko) segs.push(`<div><strong>KO</strong>: ${escapeHtml(c.ko)}</div>`);
      if(toggleVI.checked && c.vi) segs.push(`<div><strong>VI</strong>: ${escapeHtml(c.vi)}</div>`);
      backMeaning.innerHTML = segs.join('');
      counter.textContent = `${idx+1} / ${view.length}`;
      if(!flipped) card.classList.remove('flipped');
      else card.classList.add('flipped');

    }

    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m])); }

    function applyFilter(){
      const q = search.value.trim().toLowerCase();
      view = all.filter(c=>{
        if(!q) return true;
        return [c.en,c.ko,c.vi].filter(Boolean).some(x=>x.toLowerCase().includes(q));
      });
      idx = 0; render();
    }

    // Events
    $('#flip').addEventListener('click', ()=>{ flipped=!flipped; card.classList.toggle('flipped', flipped); });
    card.addEventListener('click', ()=>{ flipped=!flipped; card.classList.toggle('flipped', flipped); });
    $('#next').addEventListener('click', ()=>{ idx++; flipped=false; render(); });
    $('#prev').addEventListener('click', ()=>{ idx--; flipped=false; render(); });

    document.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowRight'){ e.preventDefault(); $('#next').click(); }
      if(e.key==='ArrowLeft'){ e.preventDefault(); $('#prev').click(); }
      if(e.key===' '){ e.preventDefault(); $('#flip').click(); }
      if(e.key==='Enter' && document.activeElement===search){ applyFilter(); }
    });

    search.addEventListener('input', ()=>{ applyFilter(); });
    $('#shuffle').addEventListener('click', ()=>{ view = shuffle(view); idx=0; flipped=false; render(); });
    toggleKO.addEventListener('change', render);
    toggleVI.addEventListener('change', render);

    // Add new card
    function addCard(en,ko,vi){
      if(!en){ alert('Vui lÃ²ng nháº­p English'); return; }
      all.push({en:en.trim(), ko:ko.trim(), vi:vi.trim()});
      saveAll();
      applyFilter();
      if(!search.value){ idx = all.length-1; }
      flipped=false; render();
    }

    $('#add').addEventListener('click', ()=>{
      const en=$('#in-en').value, ko=$('#in-ko').value, vi=$('#in-vi').value;
      addCard(en,ko,vi);
      $('#in-en').value = $('#in-ko').value = $('#in-vi').value = '';
      $('#in-en').focus();
    });
    ['#in-en','#in-ko','#in-vi'].forEach(sel=>$(sel).addEventListener('keydown',e=>{ if(e.key==='Enter'){ e.preventDefault(); $('#add').click(); }}));

    // Edit current
    $('#edit').addEventListener('click', ()=>{
      if(view.length===0) return;
      const curr = view[idx];
      const en = prompt('Sá»­a EN', curr.en); if(en===null) return;
      const ko = prompt('Sá»­a KO', curr.ko||'') ?? '';
      const vi = prompt('Sá»­a VI', curr.vi||'') ?? '';
      const masterIndex = all.findIndex(c=>c===curr || (c.en===curr.en && c.ko===curr.ko && c.vi===curr.vi));
      if(masterIndex>-1){ all[masterIndex] = {en:en.trim(), ko:ko.trim(), vi:vi.trim()}; saveAll(); applyFilter(); render(); }
    });

    // Delete current
    $('#del').addEventListener('click', ()=>{
      if(view.length===0) return;
      const curr = view[idx];
      if(!confirm(`XoÃ¡ tháº»: "${curr.en}"?`)) return;
      const masterIndex = all.findIndex(c=>c===curr || (c.en===curr.en && c.ko===curr.ko && c.vi===curr.vi));
      if(masterIndex>-1){ all.splice(masterIndex,1); saveAll(); applyFilter(); idx=0; flipped=false; render(); }
    });

    // Clear all
    $('#clear-all').addEventListener('click', ()=>{
      if(confirm('XoÃ¡ toÃ n bá»™ bá»™ tháº»?')){ all=[]; saveAll(); applyFilter(); render(); }
    });

    // Export JSON
    $('#btn-export').addEventListener('click', ()=>{
      const blob = new Blob([JSON.stringify(all,null,2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'flatcards_vocab.json';
      document.body.appendChild(a); a.click(); a.remove();
      setTimeout(()=>URL.revokeObjectURL(url), 500);
    });

    // Import JSON
    $('#file').addEventListener('change', async (e)=>{
      const file = e.target.files[0]; if(!file) return;
      try{
        const text = await file.text();
        const data = JSON.parse(text);
        if(!Array.isArray(data)) throw new Error('Äá»‹nh dáº¡ng JSON khÃ´ng há»£p lá»‡');
        all = data.map(x=>({en:String(x.en||'').trim(), ko:String(x.ko||'').trim(), vi:String(x.vi||'').trim()})).filter(x=>x.en);
        saveAll(); search.value=''; view=all.slice(); idx=0; flipped=false; render();
      }catch(err){ alert('KhÃ´ng thá»ƒ nháº­p JSON: '+ err.message); }
      e.target.value='';
    });

    // First render
    applyFilter(); render();
  })();
  </script>
</body>
</html>
